# Section 17 - 파드의 컴퓨팅 리소스 관리 

## 파드 컨테이너의 리소스 요청

파드를 생성할 때 컨테이너가 필요로 하는 CPU와 메모리 양과 사용할 수 있는 엄격한 제한을 지정할 수 있다.  
이들은 컨테이너에 개별적으로 지정되며 파드 전체에 지정되지 않는다.   
파드의 리소스 요청과 제한은 모든 컨테이너의 리소스 요청과 제한의 합이다.  

### 리소스 요청을 갖는 파드 생성하기 

```yaml
apiVersion: v1 
kind: Pod 
metadata: 
  name: requests-pod 
spec: 
  containers: 
  - image: busybox 
    command: ["dd", "if=/dev/zero", "of=/dev/null"]
    name: main 
    resources: 
      requests: 
        cpu: 200m 
        memory: 10Mi 
```

파드 매니페스트에서 컨테이너를 제대로 실행하려면 1/5 CPU 코어를 필요로 한다.  
이런 파드/컨테이너 다섯 개를 CPU 코어 하나에서 충분히 빠르게 실행할 수 있다.  
CPU 요청을 지정하지 않으면 컨테이너에서 실행 중인 프로세스에 할당되는 CPU 시간에 신경 쓰지 않는다는 것과 같다.  
최악의 경우 CPU 시간을 전혀 할당받지 못할 수 있다. 시간이 중요하지 않은 우선순위가 낮은 배치작업은 괜찮지만  
사용자 요청을 처리하는 컨테이너에는 분명 적합하지 않다. 

```shell
$ kubectl exec -it requests-pod top 
```

컨테이너에서 실행한 dd 명령은 사용할 수 있는 최대 CPU를 소비하지만 스레드 하나로 실행되므로 코너 하나만을 사용할 수 있다.  
이 예제가 실행하는 Minikube 가상머신은 CPU 코어 두 개가 할당돼 있다. 이것은 프로세스가 전체 CPU의 50%를 소비하는 것으로  
표시하는 이유다. 

## 컨테이너에 사용 가능한 리소스 제한
## 파드 QoS 클래스 이해
## 네임스페이스별 파드에 대한 기본 요청과 제한 설정
## 네임스페이스의 사용 가능한 총 리소스 제한하기
## 파드 리소스 사용량 모니터링 